"use strict";angular.module("homeMonitor",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ardyhServices"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/settings",{templateUrl:"views/settings.html",controller:"SettingsCtrl",controllerAs:"settings"}).otherwise({redirectTo:"/"})}]),angular.module("homeMonitor").controller("MainCtrl",["$scope","$ardyh",function(a,b){a.page="main",a.messages=[],a.$on("ardyh-onmessage",function(b,c){console.log("[ardyh-onmessage]",c),a.$apply(function(){a.messages.push(c)}),console.log(a.messages)})}]),angular.module("homeMonitor").controller("SettingsCtrl",["$scope",function(a){a.page="settings"}]),angular.module("ardyhServices",[]).service("$ardyh",["$rootScope",function(a){console.log("[ardyhServices]");var b=this,c="192.168.0.105:9093",d="ws://"+c+"/ws";console.log("opening socket connection to "+d),b.socket=new WebSocket(d),b.socket.onopen=function(){console.log("connection opened...."),a.$broadcast("ardyh-onopen");var c={text:"Hello from the browser"},d=JSON.stringify(c);b.socket.send(d)},b.socket.onmessage=function(b){var c=JSON.parse(b.data);console.log("['onmessage'] ",c),a.$broadcast("ardyh-onmessage",c)},b.socket.onclose=function(){console.log("The connection has been closed."),a.$broadcast("ardyh-onclose")},b.socket.onerror=function(b){console.log("The was an error.",b),a.$broadcast("ardyh-onerror",b)}}]),angular.module("webappApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html","{{messages}}")}]);